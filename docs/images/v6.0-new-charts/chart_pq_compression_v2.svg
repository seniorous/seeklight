<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="800" height="420" viewBox="0 0 800 420">
  <defs>
    <linearGradient id="origGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#E76F51"/><stop offset="100%" style="stop-color:#F4A261"/>
    </linearGradient>
    <linearGradient id="compGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#2A9D8F"/><stop offset="100%" style="stop-color:#52B788"/>
    </linearGradient>
    <filter id="shadowPQ"><feDropShadow dx="1" dy="2" stdDeviation="2" flood-opacity="0.1"/></filter>
  </defs>
  
  <rect width="800" height="420" fill="#FAFBFC"/>
  
  <!-- 标题 -->
  <text x="400" y="30" text-anchor="middle" font-family="SimHei, sans-serif" font-size="18" font-weight="bold" fill="#2C3E50">PQ乘积量化压缩原理与效果</text>
  
  <!-- 上半部分：原理示意 -->
  <g transform="translate(30, 55)">
    <rect x="0" y="0" width="740" height="170" rx="8" fill="#FFFFFF" stroke="#E0E0E0" stroke-width="1" filter="url(#shadowPQ)"/>
    <text x="370" y="25" text-anchor="middle" font-family="SimHei, sans-serif" font-size="13" fill="#2C3E50" font-weight="bold">压缩原理：向量分割 + 子空间量化</text>
    
    <!-- 原始向量 -->
    <g transform="translate(20, 45)">
      <text x="0" y="0" font-family="SimHei, sans-serif" font-size="11" fill="#455A64">原始384维向量</text>
      <rect x="0" y="10" width="300" height="30" rx="4" fill="url(#origGrad)"/>
      <text x="150" y="30" text-anchor="middle" font-family="Arial" font-size="10" fill="white">[v₁, v₂, v₃, ... , v₃₈₄] × float32 = 1536字节</text>
    </g>
    
    <!-- 箭头 -->
    <text x="370" y="95" text-anchor="middle" font-family="Arial" font-size="16" fill="#7F8C8D">↓ 分割为48个8维子向量 ↓</text>
    
    <!-- 子向量 -->
    <g transform="translate(20, 110)">
      <rect x="0" y="0" width="60" height="40" rx="3" fill="#4A6FA5"/>
      <text x="30" y="25" text-anchor="middle" font-family="Arial" font-size="9" fill="white">子向量1</text>
      <rect x="70" y="0" width="60" height="40" rx="3" fill="#5580B0"/>
      <text x="100" y="25" text-anchor="middle" font-family="Arial" font-size="9" fill="white">子向量2</text>
      <rect x="140" y="0" width="60" height="40" rx="3" fill="#6090C0"/>
      <text x="170" y="25" text-anchor="middle" font-family="Arial" font-size="9" fill="white">子向量3</text>
      <text x="225" y="25" font-family="Arial" font-size="14" fill="#7F8C8D">...</text>
      <rect x="250" y="0" width="60" height="40" rx="3" fill="#70A0D0"/>
      <text x="280" y="25" text-anchor="middle" font-family="Arial" font-size="9" fill="white">子向量48</text>
    </g>
    
    <!-- 量化结果 -->
    <g transform="translate(370, 110)">
      <text x="0" y="0" font-family="SimHei, sans-serif" font-size="11" fill="#455A64">K-Means聚类 → 8-bit索引</text>
      <rect x="0" y="10" width="340" height="40" rx="4" fill="url(#compGrad)"/>
      <text x="170" y="35" text-anchor="middle" font-family="Arial" font-size="10" fill="white">[idx₁, idx₂, ... , idx₄₈] × uint8 = 48字节</text>
    </g>
  </g>
  
  <!-- 下半部分：效果对比 -->
  <g transform="translate(30, 240)">
    <rect x="0" y="0" width="360" height="160" rx="8" fill="#FFFFFF" stroke="#E0E0E0" stroke-width="1" filter="url(#shadowPQ)"/>
    <text x="180" y="25" text-anchor="middle" font-family="SimHei, sans-serif" font-size="13" fill="#2C3E50" font-weight="bold">存储空间对比（10万张图片）</text>
    
    <!-- 原始存储 -->
    <g transform="translate(20, 45)">
      <text x="0" y="0" font-family="SimSun, serif" font-size="10" fill="#455A64">原始存储</text>
      <rect x="0" y="8" width="300" height="25" rx="3" fill="#FFEBEE"/>
      <rect x="0" y="8" width="300" height="25" rx="3" fill="url(#origGrad)"/>
      <text x="305" y="25" font-family="Arial" font-size="11" font-weight="bold" fill="#E76F51">146 MB</text>
    </g>
    
    <!-- 压缩后 -->
    <g transform="translate(20, 95)">
      <text x="0" y="0" font-family="SimSun, serif" font-size="10" fill="#455A64">PQ压缩后</text>
      <rect x="0" y="8" width="300" height="25" rx="3" fill="#E8F5E9"/>
      <rect x="0" y="8" width="9.5" height="25" rx="3" fill="url(#compGrad)"/>
      <text x="305" y="25" font-family="Arial" font-size="11" font-weight="bold" fill="#2A9D8F">4.6 MB</text>
    </g>
    
    <text x="180" y="150" text-anchor="middle" font-family="SimHei, sans-serif" font-size="12" fill="#E76F51">压缩率 32:1</text>
  </g>
  
  <!-- 精度与性能 -->
  <g transform="translate(410, 240)">
    <rect x="0" y="0" width="360" height="160" rx="8" fill="#FFFFFF" stroke="#E0E0E0" stroke-width="1" filter="url(#shadowPQ)"/>
    <text x="180" y="25" text-anchor="middle" font-family="SimHei, sans-serif" font-size="13" fill="#2C3E50" font-weight="bold">精度与性能权衡</text>
    
    <g transform="translate(20, 50)">
      <rect x="0" y="0" width="155" height="45" rx="4" fill="#FFF3E0"/>
      <text x="78" y="18" text-anchor="middle" font-family="SimSun, serif" font-size="10" fill="#E65100">原始召回率</text>
      <text x="78" y="38" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#E76F51">98%</text>
    </g>
    <g transform="translate(185, 50)">
      <rect x="0" y="0" width="155" height="45" rx="4" fill="#E8F5E9"/>
      <text x="78" y="18" text-anchor="middle" font-family="SimSun, serif" font-size="10" fill="#2E7D32">压缩后召回率</text>
      <text x="78" y="38" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#2A9D8F">94%</text>
    </g>
    
    <g transform="translate(20, 110)">
      <rect x="0" y="0" width="320" height="35" rx="4" fill="#E3F2FD"/>
      <text x="160" y="22" text-anchor="middle" font-family="SimSun, serif" font-size="10" fill="#1565C0">ADC距离计算：384次乘法 → 48次加法</text>
    </g>
  </g>
</svg>